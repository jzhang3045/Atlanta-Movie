{% extends "layout.html" %}
{% block title %} Register {% endblock %}
{% block head %} 
<link rel="stylesheet" href="{{url_for('static', filename='login.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='register.css')}}">
{% endblock %}

{% block content %}
<div style="padding:32px">
    {% if error %}
    {{error}}
    {%endif%}
<div class="row">
    <div class="col-4">
        <div class="list-group" id="list-tab" role="tablist">
            <a class="list-group-item list-group-item-action active" id="user-only-list" data-toggle="list"
                href="#user-only" role="tab" aria-controls="home">User Only</a>
            <a class="list-group-item list-group-item-action" id="customer-only-list" data-toggle="list"
                href="#customer-only" role="tab" aria-controls="profile">Customer Only</a>
            <a class="list-group-item list-group-item-action" id="manager-only-list" data-toggle="list"
                href="#manager-only" role="tab" aria-controls="messages">Manager Only</a>
            <a class="list-group-item list-group-item-action" id="customer-manager-list" data-toggle="list"
                href="#customer-manager" role="tab" aria-controls="settings">Manager-Customer</a>
        </div>
    </div>
    <div class="col-8">
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="user-only" role="tabpanel" aria-labelledby="list-home-list">
                <form method="post">
                    <input type="hidden" name="role" value="user"/>
                    <div class="form-group">
                        <label for="firstName">First name</label>
                        <input type="input" class="form-control" name="first_name" 
                            placeholder="Enter first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last name</label>
                        <input type="input" class="form-control" name="last_name" 
                            placeholder="Enter last name" required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="input" class="form-control" name="username"
                            placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Password" required>
                        <small id="passwordHelp" class="form-text text-muted">Password has to be at least 8 characters.</small>
                    </div>
                    <div class="form-group">
                        <label for="password2">Confirm Password</label>
                        <input type="password" class="form-control" name="password1" placeholder="Password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
            </div>
            <div class="tab-pane fade" id="customer-only" role="tabpanel" aria-labelledby="list-profile-list">
                <form method="post">
                    <input type="hidden" name="role" value="customer"/>
                    <div class="form-group">
                        <label for="firstName">First name</label>
                        <input type="input" class="form-control" name="first_name"
                            placeholder="Enter first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last name</label>
                        <input type="input" class="form-control" name="last_name"
                            placeholder="Enter last name" required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="input" class="form-control" name="username"
                            placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Password" required>
                        <small id="passwordHelp" class="form-text text-muted">Password has to be at least 8 characters.</small>
                    </div>
                    <div class="form-group">
                        <label for="password2">Confirm Password</label>
                        <input type="password" class="form-control" name="password1" placeholder="Password" required>
                    </div>
                    <div class="form-group">
                        <label for="creditcard">Credit Card #</label>
                        <div class="creditcard">
                            <input type="input" class="form-control" name="creditcard"
                            placeholder="Enter credit card">
                            <button class="btn btn-primary add" type="button">Add</button>
                        </div>
                        
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
            </div>
            <div class="tab-pane fade" id="manager-only" role="tabpanel" aria-labelledby="manager-only-list">
                <form method="post">
                    <input type="hidden" name="role" value="manager"/>
                    <div class="form-group">
                        <label for="firstName">First name</label>
                        <input type="input" class="form-control" name="first_name"
                            placeholder="Enter first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last name</label>
                        <input type="input" class="form-control" name="last_name"
                            placeholder="Enter last name" required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="input" class="form-control" name="username"
                            placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label for="company">Company</label>
                        <select class="form-control" name="company">
                            {%for company in companies %}
                            <option value="{{company[0]}}">{{company[0]}}</option>
                            {%endfor%}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Password" required>
                        <small id="passwordHelp" class="form-text text-muted">Password has to be at least 8 characters.</small>
                    </div>
                    <div class="form-group">
                        <label for="password2">Confirm Password</label>
                        <input type="password" class="form-control" name="password1" placeholder="Password" required>
                    </div>
                    <div class="form-group">
                        <label for="streetaddress">Street Address</label>
                        <input type="input" class="form-control" name="streetaddress"
                            placeholder="Enter street address" required>
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="input" class="form-control" name="city"
                            placeholder="Enter city" required>
                    </div>
                    <div class="form-group">
                        <label for="state">State</label>
                        <select class="form-control" name="state">
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District Of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="zipcode">Zip Code</label>
                        <input type="input" class="form-control" name="zipcode"
                            placeholder="Enter zip code" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
            </div>
            <div class="tab-pane fade" id="customer-manager" role="tabpanel" aria-labelledby="customer-manager-list">
                <form method="post">
                    <input type="hidden" name="role" value="manager-customer"/>
                    <div class="form-group">
                        <label for="firstName">First name</label>
                        <input type="input" class="form-control" name="first_name"
                            placeholder="Enter first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last name</label>
                        <input type="input" class="form-control" name="last_name"
                            placeholder="Enter last name" required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="input" class="form-control" name="username"
                            placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label for="company">Company</label>
                        <select class="form-control" name="company">
                            {%for company in companies %}
                            <option value="{{company[0]}}">{{company[0]}}</option>
                            {%endfor%}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Password" required>
                        <small id="passwordHelp" class="form-text text-muted">Password has to be at least 8 characters.</small>
                    </div>
                    <div class="form-group">
                        <label for="password2">Confirm Password</label>
                        <input type="password" class="form-control" name="password1" placeholder="Password" required>
                    </div>
                    <div class="form-group">
                        <label for="streetaddress">Street Address</label>
                        <input type="input" class="form-control" name="streetaddress"
                            placeholder="Enter street address" required>
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="input" class="form-control" name="city"
                            placeholder="Enter city" required>
                    </div>
                    <div class="form-group">
                        <label for="state">State</label>
                        <select class="form-control" name="state">
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District Of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="zipcode">Zip Code</label>
                        <input type="input" class="form-control" name="zipcode"
                            placeholder="Enter zip code" required>
                    </div>
                    <div class="form-group">
                        <label for="creditcard">Credit Card #</label>
                        <div class="creditcard">
                            <input type="input" class="form-control" name="creditcard"
                            placeholder="Enter credit card">
                            <button class="btn btn-primary add" type="button">Add</button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
            </div>
        </div>
    </div>    
</div>
</div>
<script>
$('.creditcard button.add').on('click', function(e){
    const input = $(this).parent().find('input');
    const div = $("<div></div>");
    div.addClass('creditcard');
    const cc = $("<input>");
    cc.val(input.val());
    cc.type="input";
    cc.addClass('form-control');
    cc.attr('name', 'creditcard[]');
    cc.attr('readonly', 'readonly');
    const btn = $("<button>");
    btn.addClass("btn btn-danger remove");
    btn.attr('type', 'button');
    btn.html('Remove');
    cc.appendTo(div);
    btn.appendTo(div);
    div.insertBefore(input.parent());
    input.val('');
    btn.on('click', function(){
        $(this).parent().empty();
    })
})


</script>
{% endblock %}